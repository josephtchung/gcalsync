<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Calendar Sync</title>
  <link href="popup.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- Status Section -->
    <div class="status-section">
      <div class="status-header">
        <h2>Status</h2>
        <span id="syncStatus" class="status-badge">Idle</span>
      </div>
      <p class="last-sync">Last sync: <span id="lastSyncTime">Never</span></p>
    </div>

    <!-- Settings Section -->
    <div class="settings-section">
      <h2>Settings</h2>
      <form id="settingsForm">
        <div class="form-group">
          <label for="targetCalendar">Target Calendar</label>
          <select id="targetCalendar" required>
            <option value="">Loading calendars...</option>
          </select>
        </div>

        <div class="form-group">
          <label>Source Calendars</label>
          <div id="sourceCalendarList" class="calendar-list checkbox-list">
            <div class="loading-message">Loading calendars...</div>
          </div>
        </div>

        <div class="form-group">
          <label for="syncInterval">Sync Interval (minutes)</label>
          <input type="number" id="syncInterval" min="1" required>
        </div>

        <div class="form-group">
          <label for="weeksAhead">Weeks to Sync Ahead</label>
          <input type="number" id="weeksAhead" min="1" max="52" required>
        </div>

        <div class="button-group">
          <button type="submit" class="primary-button">Save Settings</button>
        </div>
      </form>
    </div>

    <!-- Actions Section -->
    <div class="actions-section">
      <h2>Actions</h2>
      <div class="button-group">
        <button id="syncNow" class="primary-button">Sync Now</button>
        <button id="cleanupAll" class="secondary-button">Cleanup Events</button>
      </div>
    </div>

    <!-- Status Messages -->
    <div id="statusMessage" class="status-message hidden"></div>
  </div>
  <script type="module" src="popup.js"></script>
</body>
</html> 